<html layout:decorate="~{layout}">
<div layout:fragment="content">
	<link rel="stylesheet" th:href="@{/css/announcement.css}">

	<h1>가게 등록</h1>
	    <form id="storeForm">
	        <label for="stoName">가게 이름:</label>
	        <input type="text" id="stoName" name="stoName" required><br>

	        <label for="stoTitle">가게 제목:</label>
	        <input type="text" id="stoTitle" name="stoTitle"><br>

	        <label for="stoContent">가게 내용:</label>
	        <textarea id="stoContent" name="stoContent"></textarea><br>

	        <label for="stoCategory">가게 카테고리:</label>
	        <input type="text" id="stoCategory" name="stoCategory"><br>

	        <label for="stoRegionProvince">주:</label>
	        <input type="text" id="stoRegionProvince" name="stoRegionProvince"><br>

	        <label for="stoRegionCity">시/구:</label>
	        <input type="text" id="stoRegionCity" name="stoRegionCity"><br>

	        <label for="stoContact">연락처:</label>
	        <input type="text" id="stoContact" name="stoContact"><br>

	        <label for="stoAddress">주소:</label>
	        <input type="text" id="stoAddress" name="stoAddress"><br>

	        <label for="stoImage">이미지 URL:</label>
	        <input type="text" id="stoImage" name="stoImage"><br>

	        <label for="stoOperatingHours">운영시간:</label>
	        <input type="text" id="stoOperatingHours" name="stoOperatingHours"><br>

	        <label for="stoClosedDays">휴무일:</label>
	        <input type="text" id="stoClosedDays" name="stoClosedDays"><br>

	        <label for="stoRecommendedMenu">추천 메뉴:</label>
	        <input type="text" id="stoRecommendedMenu" name="stoRecommendedMenu"><br>

	        <label for="stoParkingInfo">주차 정보:</label>
	        <input type="text" id="stoParkingInfo" name="stoParkingInfo"><br>

	        <label for="stoLatitude">위도:</label>
	        <input type="number" id="stoLatitude" name="stoLatitude" step="0.000001"><br>

	        <label for="stoLongitude">경도:</label>
	        <input type="number" id="stoLongitude" name="stoLongitude" step="0.000001"><br>

	        <label for="stoVegetarianType">채식 유형:</label>
	        <input type="text" id="stoVegetarianType" name="stoVegetarianType"><br>

	        <label for="kakaoStoreId">카카오 스토어 ID:</label>
	        <input type="text" id="kakaoStoreId" name="kakaoStoreId" required><br>

	        <button type="submit">가게 등록</button>
	    </form>

	    <script>
	        document.getElementById("storeForm").addEventListener("submit", function(event) {
	            event.preventDefault();
	            const formData = new FormData(this);
	            const data = Object.fromEntries(formData.entries());

	            fetch('/load/store/save', {
	                method: 'POST',
	                headers: {
	                    'Content-Type': 'application/json'
	                },
	                body: JSON.stringify(data)
	            })
	            .then(response => {
	                if (response.ok) {
	                    alert("가게가 성공적으로 등록되었습니다.");
						window.location.href = 'http://localhost:8080/load/place'; // 페이지 리다이렉트
	                } else {
	                    alert("가게 등록에 실패했습니다.");
	                }
	            });
	        });
	    </script>
</div>

</html>