<html layout:decorate="~{member/mypage_layout}">
<div layout:fragment="tabcontent">
	<link rel="stylesheet" th:href="@{/css/shop.css}">
	<div class="d-flex flex-column min-vh-100 adminProdList overflow-hidden" id="wrapper">
		<!--페이지 제목-->
		<div class="row my-5">
			<div class="pageTitle col text-center">
				상품 목록 관리
			</div>
		</div>
		
		<section class="row vstack prodItem position-relative mb-5 px-2">
			<div class="col gap-3 g-3">
				<p class="subtle f18 c666 fw-bold">
					상품 검색 및 필터
				</p>
			
			
				<!-- 검색 및 필터 기능 -->
				<form class="mb-3" id="searchForm" onsubmit="return false;">
					<div class="d-flex gap-3">
						<div class="flex-grow-1">  <!-- 좌측 열 -->
							<div class="d-flex mb-1"> <!-- 첫째줄 -->
									<!--상품명 검색어 입력-->
								<div class="position-relative w-50 me-2">
									<input type="text" id="searchInput" class="form-control" placeholder="상품번호 또는 상품명 검색" name="search">
									<span class="clear-btn" id="clearBtn">&times;</span> <!-- X 버튼 -->
								</div>
									
									<!--카테고리 select-->
									<select class="form-select me-2 w-25" id="categorySelect" name="category">
										<option value="">카테고리 : 모두 보기</option>
										<option value="mealkit">밀키트</option>
										<option value="sidedish">반찬배송</option>
										<option value="organicfood">유기농식재료</option>
										<option value="organicgoods">오가닉 제품</option>
										<option value="babygoods">베이비</option>
										<option value="petgoods">펫</option>
										<option value="books">책</option>
										<option value="wellitgoods">웨릿 굿즈</option>
									</select>
									
									<!--판매상태 select-->
									<select class="form-select me-2 w-25" id="statusSelect" name="status">
										<option value="">판매상태 : 모두 보기</option>
										<option value="AVAILABLE">판매중</option>
										<option value="UNAVAILABLE">일시판매중지</option>
										<option value="OUT_OF_STOCK">일시품절</option>
										<option value="DISCONTINUED">단종</option>
									</select>
							</div>
							
							
							<div class="d-flex"> <!-- 둘째줄 -->
								<label class="form-label d-block w-50 me-2 text-end align-self-center my-1">판매 실적 기준 기간 : </label>
								<!-- 시작 날짜 선택 -->
								<input type="date" id="startDate" class="form-control me-2 w-25" name="startDate">
								
								<!-- 끝 날짜 선택 -->
								<input type="date" id="endDate" class="form-control me-2 w-25" name="endDate">
							</div>
						</div>
						<div class="d-flex">
							<button type="button" class="btn btn-success align-self-stretch" onclick="goToPageFirstAndFetchProducts();"><i class="fa-solid fa-magnifying-glass text-white px-3 fa-2x" ></i></button>
						</div>
						
					</div> <!--row-->

				</form>
				
				<p class="subtle f18 c666 fw-bold">
					상품 리스트
					<input type="hidden" id="sortSelect">
					<input type="hidden" id="directionSelect">
				</p>
				<span class="sortDirectionBtn d-inline-block float-end"></span>
				<!-- 상품 목록 테이블 -->
				<div class="prodTableBox border">
					<table class="table table-hover" id="prodTable" >
						<thead class="prodTableHead">
						<tr>
							<th scope="col" class="c666">No.</th>
							<th scope="col" class="tableSort" data-order="prodId" data-item-sort="prod_id">
								상품코드
								<span class="sortDirectionBtn"></span>
							</th>
							<th scope="col" class="tableSort flex-grow-1" data-order="prodName" data-item-sort="prod_name">
								상품명
								<span class="sortDirectionBtn"></span>
							</th>
							<th scope="col" class="text-center c666" data-order="prodStatus" data-item-sort="prod_status">
								판매상태
								<!--<span class="sortDirectionBtn"></span>-->
							</th>
							<th scope="col" class="tableSort text-end" data-order="prodStock" data-item-sort="prod_stock">
								<span class="sortDirectionBtn"></span>
								재고수량
							</th>
							<th scope="col" class="tableSort text-end" data-order="salesQuantity" data-item-sort="sales_quantity">
								<span class="sortDirectionBtn"></span>
								판매수량
							</th>
							<th scope="col" class="tableSort text-end" data-order="salesAmount" data-item-sort="sales_amount">
								<span class="sortDirectionBtn"></span>
								매출금액
							</th>
							<th scope="col" class="text-center c666">상품수정</th>
						</tr>
						</thead>
						<tbody id="prodTableBody">
						<!-- Fetch로 받은 데이터를 여기에 렌더링 -->
						</tbody>
					</table>
				</div>
				
				<div class="adminProdList pageLine position-relative py-3">
					<input type="hidden" id="pagenum">
					<!--페이지네이션-->
					<div class="paginationContainer d-flex justify-content-center position-absolute start-50 translate-middle-x gap-1"></div>
					
					<!--표시 아이템 개수 select-->
					<select class="form-select form-select-sm position-absolute end-0 me-3" id="pageSizeSelect" name="pageSize" style="width: auto;">
						<option value="20">20개</option>
						<option value="50">50개</option>
						<option value="80">80개</option>
						<option value="100">100개</option>
						<option value="300">300개</option>
					</select>
				</div>
				
				
				
				
			
			</div> <!-- //col -->
			
			
			<script th:inline="javascript">
			</script>
		
		</section>
	
	</div><!-- // #wrapper -->

		
	<!--shop js link-->
	<script src="/js/shop.js"></script>

</div>
</html>