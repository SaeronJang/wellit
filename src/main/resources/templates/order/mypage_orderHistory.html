<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>주문서보기 : vs버전</title>
	
	
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
	      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
	        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
	        crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
	        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
	        crossorigin="anonymous"></script>
	<link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-gothic.css" rel="stylesheet">
	<link rel="stylesheet"
	      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"/>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=28da3dbc8c389b574e0c32075b4e02ba"></script>
	<link rel="stylesheet" href="/css/layout.css"/>
	
	
	<!-- font font-awesome CDN -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
	      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
	      crossorigin="anonymous" referrerpolicy="no-referrer"/>
	
	<!-- 제이쿼리 라이브러리 로드 -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>


</head>

<body>
<div class="d-flex flex-column min-vh-100 border border-5 border-success" id="wrapper">
	
	<div layout:fragment="content" class="container">
		
		<!--페이지 제목-->
		<div class="row my-5">
			<div class="pageTitle col text-center">
				주문서
			</div>
		</div>
		
		<section class="row vstack orderItem position-relative mb-5" th:fragment="polist">
			
			<p class="subtle f18 c666 fw-bold">
				주문 상품
			</p>
			
			<div class="col gap-3 g-3" th:each="poHistory, iterStat : ${poHistoryList}">
				<div class="card " style="max-width: 800px;">
					<div class="card-header border-bottom-0 pb-0 d-flex flex-row align-items-center justify-content-between">
						<span class="c333 fw700 f18" style="color: white;">[[${poHistory.orderStatus}]]</span>
						<a th:href="@{|/order/po/detail/${poHistory.orderId}|}" class="f12 align-text-bottom c888">주문상세내역 &raquo;</a>
					</div>
					
						<!-- 주문 상품 목록 th:block-->
						<div class="orderItemTable card-body gap-2 bg-light vstack">
					<th:block th:each="orderItem, iterStat : ${poHistory.orderItems}">
							<div class="d-flex gap-3 border-bottom border-light bg-white rounded-2 px-3">
								
								<!-- 상품이미지 -->
								<div class="vstack gap-2 prodImageBoxWrapper my-3">
									
									<div class="prodImageBox border flex-grow-0"
									     style="aspect-ratio: 1; background-size: cover; background-position: center;  max-width: 140px;"
									     th:style="|background-image: url(@{  ${orderItem.prodThumb}  }); width: 100%; aspect-ratio: 1; background-size: cover; background-position: center;|">
									</div>
								</div> <!-- // prodImageBoxWrapper -->
								
								
								<div class="d-flex flex-column pl-3 ml-3 calcItem my-3 clearfix align-items-stretch flex-grow-1">
									<h5 class="card-title fw700 c444 f18 mb-2 d-inline-block" th:text="${orderItem.prodName}">상품명</h5>
									<!--상품명-->
									
									<p class="card-text d-inline-block mb-1">
	
											<span class="card-text text-end d-inline-block c333 fw700 commaNums f16"
											      th:attr="data-nums=${orderItem.sumFinalPrice}">상품금액합계</span>
										<span class="f14 won">원</span>
									
										
									</p>
									
<!--									<p class="card-text d-inline-block">
	
											<span class="card-text text-end d-inline-block c333 fw700 commaNums f16"
											      th:attr="data-nums=${orderItem.product.prodFinalPrice * orderItem.quantity }"></span>
										<span class="f14 won">원</span>
										
										<span class="f14 c999 px-2">|</span>
										<span class="card-text text-end d-inline-block c555 fw700 c16 commaNums"
										      th:attr="data-nums=${orderItem.quantity}"></span>
										
										<span class="f14 ea c555">ea</span>
									
									</p>-->
									
									<p class="card-text d-inline-flex gap-2  flex-grow-1 align-items-end">
									<span
											class="btn badge rounded-pill border-secondary-subtle text-secondary f14 py-2 px-3 d-inline-block">주문취소</span>
										<span class="btn badge rounded-pill border-success text-success f14 py-2 d-inline-block flex-grow-1">리뷰쓰기</span>
									</p>
								
								
								</div>
							
							</div>
					</th:block> <!--//orderItemList-->
							<div class="text-end bg-light cart-text pt-2">
							<span class="d-inline-block c333 fw700 commaNums f22"
							      th:attr="data-nums=${poHistory.totalPrice}">주문금액총합계</span>
									<span class="f18 won fw500 c666">원</span>
							
							</div>
						</div> <!-- //card-body -->
					
					
					<!--///////////////////////////////////////-->
					<!--///////////////////////////////////////-->
					<!--///////////////////////////////////////-->
					
					
					
					<div class="card-footer border-top-0 pt-0 d-flex flex-row align-items-center justify-content-between">
						<span class="f14 c999"><span th:text="${#temporals.format(poHistory.paidAt,'yyyy. MM. dd')}"></span> 구매</span>
						<span class="btn badge text-bg-success f16">리뷰쓰고 추가 마일리지 적립 혜택을 받으세요</span>
					</div> <!-- //card-footer -->
				</div> <!-- //card -->
			</div> <!-- //col -->
		
		
		</section> <!-- //orderItem -->
	
	
	</div> <!-- //content container -->

</div><!-- // #wrapper -->
<!--daum 주소 입력 api-->
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<!--order js link-->
<script src="/js/order.js"></script>

</body>

</html>